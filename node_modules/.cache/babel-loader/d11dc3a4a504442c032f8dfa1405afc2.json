{"ast":null,"code":"import { GET_ALL_LATEST_TODOS_SUCCESS, GET_ALL_LATEST_TODOS_FAILURE, GET_ALL_LATEST_TODOS_LOADING, TODOS_DELETE, TODOS_TOGGLE } from \"./action\"; // import React from 'react';\n\nexport const reducer = (store, action) => {\n  // const [currentStatus,setCurrentStatus]=React.useState(false);\n  switch (action.type) {\n    case GET_ALL_LATEST_TODOS_LOADING:\n      return {\n        todos: [],\n        isLoading: true,\n        isError: false\n      };\n\n    case GET_ALL_LATEST_TODOS_FAILURE:\n      return {\n        todos: [],\n        isLoading: false,\n        isError: true\n      };\n\n    case GET_ALL_LATEST_TODOS_SUCCESS:\n      return {\n        todos: [...action.payload],\n        isLoading: false,\n        isError: false\n      };\n\n    case TODOS_DELETE:\n      // fetch('sfakfsff')\n      fetch(`http://localhost:8080/store/${action.payload}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-type': 'application/json'\n        }\n      }).then(res => res.json()).then(res => {\n        return {\n          todos: [res],\n          isLoading: false,\n          isError: false\n        };\n      });\n\n    case TODOS_TOGGLE:\n      let adata;\n\n      const abc = async () => {\n        let res = await fetch(`http://localhost:8080/store/${action.payload}`);\n        let data = await res.json();\n        adata = data;\n        console.log('adata', adata);\n        console.log('data', data);\n        fetch(`http://localhost:8080/store/${action.payload}`, {\n          method: 'PATCH',\n          body: JSON.stringify({\n            status: !data.status\n          }),\n          headers: {\n            'Content-type': 'application/json; charset=UTF-8'\n          }\n        }).then(res => res.json()).then(res => {\n          return {\n            todos: [res],\n            isLoading: false,\n            isError: false\n          };\n        }); //    console.log(!data.status)\n        //    return 'zdjfieuhf'\n      };\n\n      abc();\n      console.log('adata', adata);\n    // let rtrn=abc()\n    // console.log('rtrn',rtrn)\n\n    default:\n      return store;\n  }\n};","map":{"version":3,"names":["GET_ALL_LATEST_TODOS_SUCCESS","GET_ALL_LATEST_TODOS_FAILURE","GET_ALL_LATEST_TODOS_LOADING","TODOS_DELETE","TODOS_TOGGLE","reducer","store","action","type","todos","isLoading","isError","payload","fetch","method","headers","then","res","json","adata","abc","data","console","log","body","JSON","stringify","status"],"sources":["/Users/princekumar/Downloads/react1/react_redux_json_server/src/Redux/reducer.js"],"sourcesContent":["import { GET_ALL_LATEST_TODOS_SUCCESS, GET_ALL_LATEST_TODOS_FAILURE, GET_ALL_LATEST_TODOS_LOADING,TODOS_DELETE,TODOS_TOGGLE} from \"./action\"\n// import React from 'react';\nexport const reducer=(store,action)=>{\n    // const [currentStatus,setCurrentStatus]=React.useState(false);\n    switch(action.type){\n        case GET_ALL_LATEST_TODOS_LOADING:\n            return {todos:[],isLoading:true,isError:false};\n        case GET_ALL_LATEST_TODOS_FAILURE:\n            return {todos:[],isLoading:false,isError:true};\n        case GET_ALL_LATEST_TODOS_SUCCESS:\n            return {todos:[...action.payload],isLoading:false,isError:false};\n        case TODOS_DELETE:\n            // fetch('sfakfsff')\n            fetch(`http://localhost:8080/store/${action.payload}`,{\n                method: 'DELETE',\n            headers: {\n                'Content-type': 'application/json'\n            }\n            })\n            .then((res)=>res.json())\n            .then((res)=>{return { todos:[res],isLoading:false,isError:false }})\n             \n        case TODOS_TOGGLE:\n            let adata;\n            const abc=async ()=>{\n               let res=await fetch(`http://localhost:8080/store/${action.payload}`);\n               let data=await res.json();\n               adata=data\n               console.log('adata',adata)\n               console.log('data',data)\n               fetch(`http://localhost:8080/store/${action.payload}`,{\n                method: 'PATCH',\n                 body:JSON.stringify({status:!data.status}),\n            headers: {\n                'Content-type': 'application/json; charset=UTF-8',\n            }\n            })\n            .then((res)=>res.json())\n            .then((res)=>{return { todos:[res],isLoading:false,isError:false }})\n            //    console.log(!data.status)\n            //    return 'zdjfieuhf'\n            }\n            abc()\n            console.log('adata',adata)\n            // let rtrn=abc()\n            // console.log('rtrn',rtrn)\n            \n        default:\n            return store;\n    }\n}"],"mappings":"AAAA,SAASA,4BAAT,EAAuCC,4BAAvC,EAAqEC,4BAArE,EAAkGC,YAAlG,EAA+GC,YAA/G,QAAkI,UAAlI,C,CACA;;AACA,OAAO,MAAMC,OAAO,GAAC,CAACC,KAAD,EAAOC,MAAP,KAAgB;EACjC;EACA,QAAOA,MAAM,CAACC,IAAd;IACI,KAAKN,4BAAL;MACI,OAAO;QAACO,KAAK,EAAC,EAAP;QAAUC,SAAS,EAAC,IAApB;QAAyBC,OAAO,EAAC;MAAjC,CAAP;;IACJ,KAAKV,4BAAL;MACI,OAAO;QAACQ,KAAK,EAAC,EAAP;QAAUC,SAAS,EAAC,KAApB;QAA0BC,OAAO,EAAC;MAAlC,CAAP;;IACJ,KAAKX,4BAAL;MACI,OAAO;QAACS,KAAK,EAAC,CAAC,GAAGF,MAAM,CAACK,OAAX,CAAP;QAA2BF,SAAS,EAAC,KAArC;QAA2CC,OAAO,EAAC;MAAnD,CAAP;;IACJ,KAAKR,YAAL;MACI;MACAU,KAAK,CAAE,+BAA8BN,MAAM,CAACK,OAAQ,EAA/C,EAAiD;QAClDE,MAAM,EAAE,QAD0C;QAEtDC,OAAO,EAAE;UACL,gBAAgB;QADX;MAF6C,CAAjD,CAAL,CAMCC,IAND,CAMOC,GAAD,IAAOA,GAAG,CAACC,IAAJ,EANb,EAOCF,IAPD,CAOOC,GAAD,IAAO;QAAC,OAAO;UAAER,KAAK,EAAC,CAACQ,GAAD,CAAR;UAAcP,SAAS,EAAC,KAAxB;UAA8BC,OAAO,EAAC;QAAtC,CAAP;MAAqD,CAPnE;;IASJ,KAAKP,YAAL;MACI,IAAIe,KAAJ;;MACA,MAAMC,GAAG,GAAC,YAAU;QACjB,IAAIH,GAAG,GAAC,MAAMJ,KAAK,CAAE,+BAA8BN,MAAM,CAACK,OAAQ,EAA/C,CAAnB;QACA,IAAIS,IAAI,GAAC,MAAMJ,GAAG,CAACC,IAAJ,EAAf;QACAC,KAAK,GAACE,IAAN;QACAC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBJ,KAApB;QACAG,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBF,IAAnB;QACAR,KAAK,CAAE,+BAA8BN,MAAM,CAACK,OAAQ,EAA/C,EAAiD;UACrDE,MAAM,EAAE,OAD6C;UAEpDU,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;YAACC,MAAM,EAAC,CAACN,IAAI,CAACM;UAAd,CAAf,CAF+C;UAGzDZ,OAAO,EAAE;YACL,gBAAgB;UADX;QAHgD,CAAjD,CAAL,CAOFC,IAPE,CAOIC,GAAD,IAAOA,GAAG,CAACC,IAAJ,EAPV,EAQFF,IARE,CAQIC,GAAD,IAAO;UAAC,OAAO;YAAER,KAAK,EAAC,CAACQ,GAAD,CAAR;YAAcP,SAAS,EAAC,KAAxB;YAA8BC,OAAO,EAAC;UAAtC,CAAP;QAAqD,CARhE,EANiB,CAepB;QACA;MACC,CAjBD;;MAkBAS,GAAG;MACHE,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBJ,KAApB;IACA;IACA;;IAEJ;MACI,OAAOb,KAAP;EA5CR;AA8CH,CAhDM"},"metadata":{},"sourceType":"module"}