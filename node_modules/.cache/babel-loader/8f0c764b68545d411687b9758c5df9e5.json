{"ast":null,"code":"import { GET_ALL_LATEST_TODOS_SUCCESS, GET_ALL_LATEST_TODOS_FAILURE, GET_ALL_LATEST_TODOS_LOADING, TODOS_DELETE, TODOS_TOGGLE } from \"./action\"; // import React from 'react';\n\nexport const reducer = (store, action) => {\n  // const [currentStatus,setCurrentStatus]=React.useState(false);\n  switch (action.type) {\n    case GET_ALL_LATEST_TODOS_LOADING:\n      return {\n        todos: [],\n        isLoading: true,\n        isError: false\n      };\n\n    case GET_ALL_LATEST_TODOS_FAILURE:\n      return {\n        todos: [],\n        isLoading: false,\n        isError: true\n      };\n\n    case GET_ALL_LATEST_TODOS_SUCCESS:\n      return {\n        todos: [...action.payload],\n        isLoading: false,\n        isError: false\n      };\n\n    case TODOS_DELETE:\n      // fetch('sfakfsff')\n      fetch(`http://localhost:8080/store/${action.payload}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-type': 'application/json'\n        }\n      }).then(res => res.json()).then(res => {\n        return {\n          todos: [res],\n          isLoading: false,\n          isError: false\n        };\n      });\n\n    case TODOS_TOGGLE:\n      function middle(currentStatus) {\n        fetch(`http://localhost:8080/store/${action.payload}`).then(res => res.json()).then(res => {\n          currentStatus = res.status;\n        });\n      }\n\n      function current(middle) {\n        let currentStatus = true;\n        middle(currentStatus);\n        return currentStatus; // console.log(\"outside\",currentStatus)\n      }\n\n      console.log(current(middle));\n      fetch(`http://localhost:8080/store/${action.payload}`, {\n        method: 'PATCH',\n        body: JSON.stringify({\n          status: !current()\n        }),\n        headers: {\n          'Content-type': 'application/json; charset=UTF-8'\n        }\n      }).then(res => res.json()).then(res => {\n        return {\n          todos: [res],\n          isLoading: false,\n          isError: false\n        };\n      });\n\n    default:\n      return store;\n  }\n};","map":{"version":3,"names":["GET_ALL_LATEST_TODOS_SUCCESS","GET_ALL_LATEST_TODOS_FAILURE","GET_ALL_LATEST_TODOS_LOADING","TODOS_DELETE","TODOS_TOGGLE","reducer","store","action","type","todos","isLoading","isError","payload","fetch","method","headers","then","res","json","middle","currentStatus","status","current","console","log","body","JSON","stringify"],"sources":["/Users/princekumar/Downloads/react1/react_redux_json_server/src/Redux/reducer.js"],"sourcesContent":["import { GET_ALL_LATEST_TODOS_SUCCESS, GET_ALL_LATEST_TODOS_FAILURE, GET_ALL_LATEST_TODOS_LOADING,TODOS_DELETE,TODOS_TOGGLE} from \"./action\"\n// import React from 'react';\nexport const reducer=(store,action)=>{\n    // const [currentStatus,setCurrentStatus]=React.useState(false);\n    switch(action.type){\n        case GET_ALL_LATEST_TODOS_LOADING:\n            return {todos:[],isLoading:true,isError:false};\n        case GET_ALL_LATEST_TODOS_FAILURE:\n            return {todos:[],isLoading:false,isError:true};\n        case GET_ALL_LATEST_TODOS_SUCCESS:\n            return {todos:[...action.payload],isLoading:false,isError:false};\n        case TODOS_DELETE:\n            // fetch('sfakfsff')\n            fetch(`http://localhost:8080/store/${action.payload}`,{\n                method: 'DELETE',\n            headers: {\n                'Content-type': 'application/json'\n            }\n            })\n            .then((res)=>res.json())\n            .then((res)=>{return { todos:[res],isLoading:false,isError:false }})\n             \n        case TODOS_TOGGLE:\n            function middle(currentStatus){\n                fetch(`http://localhost:8080/store/${action.payload}`)\n                .then((res)=>res.json())\n                .then((res)=>{currentStatus=res.status})\n            }\n            function current(middle){\n             let currentStatus=true;\n                middle(currentStatus)\n            return currentStatus\n            // console.log(\"outside\",currentStatus)\n            }\n            console.log(current(middle))\n            fetch(`http://localhost:8080/store/${action.payload}`,{\n                method: 'PATCH',\n                 body:JSON.stringify({status:!current()}),\n            headers: {\n                'Content-type': 'application/json; charset=UTF-8',\n            }\n            })\n            .then((res)=>res.json())\n            .then((res)=>{return { todos:[res],isLoading:false,isError:false }})\n        default:\n            return store;\n    }\n}"],"mappings":"AAAA,SAASA,4BAAT,EAAuCC,4BAAvC,EAAqEC,4BAArE,EAAkGC,YAAlG,EAA+GC,YAA/G,QAAkI,UAAlI,C,CACA;;AACA,OAAO,MAAMC,OAAO,GAAC,CAACC,KAAD,EAAOC,MAAP,KAAgB;EACjC;EACA,QAAOA,MAAM,CAACC,IAAd;IACI,KAAKN,4BAAL;MACI,OAAO;QAACO,KAAK,EAAC,EAAP;QAAUC,SAAS,EAAC,IAApB;QAAyBC,OAAO,EAAC;MAAjC,CAAP;;IACJ,KAAKV,4BAAL;MACI,OAAO;QAACQ,KAAK,EAAC,EAAP;QAAUC,SAAS,EAAC,KAApB;QAA0BC,OAAO,EAAC;MAAlC,CAAP;;IACJ,KAAKX,4BAAL;MACI,OAAO;QAACS,KAAK,EAAC,CAAC,GAAGF,MAAM,CAACK,OAAX,CAAP;QAA2BF,SAAS,EAAC,KAArC;QAA2CC,OAAO,EAAC;MAAnD,CAAP;;IACJ,KAAKR,YAAL;MACI;MACAU,KAAK,CAAE,+BAA8BN,MAAM,CAACK,OAAQ,EAA/C,EAAiD;QAClDE,MAAM,EAAE,QAD0C;QAEtDC,OAAO,EAAE;UACL,gBAAgB;QADX;MAF6C,CAAjD,CAAL,CAMCC,IAND,CAMOC,GAAD,IAAOA,GAAG,CAACC,IAAJ,EANb,EAOCF,IAPD,CAOOC,GAAD,IAAO;QAAC,OAAO;UAAER,KAAK,EAAC,CAACQ,GAAD,CAAR;UAAcP,SAAS,EAAC,KAAxB;UAA8BC,OAAO,EAAC;QAAtC,CAAP;MAAqD,CAPnE;;IASJ,KAAKP,YAAL;MACI,SAASe,MAAT,CAAgBC,aAAhB,EAA8B;QAC1BP,KAAK,CAAE,+BAA8BN,MAAM,CAACK,OAAQ,EAA/C,CAAL,CACCI,IADD,CACOC,GAAD,IAAOA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEOC,GAAD,IAAO;UAACG,aAAa,GAACH,GAAG,CAACI,MAAlB;QAAyB,CAFvC;MAGH;;MACD,SAASC,OAAT,CAAiBH,MAAjB,EAAwB;QACvB,IAAIC,aAAa,GAAC,IAAlB;QACGD,MAAM,CAACC,aAAD,CAAN;QACJ,OAAOA,aAAP,CAHwB,CAIxB;MACC;;MACDG,OAAO,CAACC,GAAR,CAAYF,OAAO,CAACH,MAAD,CAAnB;MACAN,KAAK,CAAE,+BAA8BN,MAAM,CAACK,OAAQ,EAA/C,EAAiD;QAClDE,MAAM,EAAE,OAD0C;QAEjDW,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;UAACN,MAAM,EAAC,CAACC,OAAO;QAAhB,CAAf,CAF4C;QAGtDP,OAAO,EAAE;UACL,gBAAgB;QADX;MAH6C,CAAjD,CAAL,CAOCC,IAPD,CAOOC,GAAD,IAAOA,GAAG,CAACC,IAAJ,EAPb,EAQCF,IARD,CAQOC,GAAD,IAAO;QAAC,OAAO;UAAER,KAAK,EAAC,CAACQ,GAAD,CAAR;UAAcP,SAAS,EAAC,KAAxB;UAA8BC,OAAO,EAAC;QAAtC,CAAP;MAAqD,CARnE;;IASJ;MACI,OAAOL,KAAP;EAzCR;AA2CH,CA7CM"},"metadata":{},"sourceType":"module"}